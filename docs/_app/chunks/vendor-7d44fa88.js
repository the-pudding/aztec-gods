function B(){}function Dn(n,t){for(const e in t)n[e]=t[e];return n}function On(n){return n&&typeof n=="object"&&typeof n.then=="function"}function Kt(n){return n()}function Yt(){return Object.create(null)}function K(n){n.forEach(Kt)}function Vt(n){return typeof n=="function"}function Bn(n,t){return n!=n?t==t:n!==t||n&&typeof n=="object"||typeof n=="function"}let ct;function zi(n,t){return ct||(ct=document.createElement("a")),ct.href=t,n===ct.href}function Un(n){return Object.keys(n).length===0}function Wt(n,...t){if(n==null)return B;const e=n.subscribe(...t);return e.unsubscribe?()=>e.unsubscribe():e}function Ri(n,t,e){n.$$.on_destroy.push(Wt(t,e))}function qi(n,t,e,i){if(n){const r=Qt(n,t,e,i);return n[0](r)}}function Qt(n,t,e,i){return n[1]&&i?Dn(e.ctx.slice(),n[1](i(t))):e.ctx}function Hi(n,t,e,i){if(n[2]&&i){const r=n[2](i(e));if(t.dirty===void 0)return r;if(typeof r=="object"){const l=[],s=Math.max(t.dirty.length,r.length);for(let o=0;o<s;o+=1)l[o]=t.dirty[o]|r[o];return l}return t.dirty|r}return t.dirty}function Li(n,t,e,i,r,l){if(r){const s=Qt(t,e,i,l);n.p(s,r)}}function Fi(n){if(n.ctx.length>32){const t=[],e=n.ctx.length/32;for(let i=0;i<e;i++)t[i]=-1;return t}return-1}let ut=!1;function Gn(){ut=!0}function Xn(){ut=!1}function Kn(n,t,e,i){for(;n<t;){const r=n+(t-n>>1);e(r)<=i?n=r+1:t=r}return n}function Yn(n){if(n.hydrate_init)return;n.hydrate_init=!0;let t=n.childNodes;if(n.nodeName==="HEAD"){const a=[];for(let c=0;c<t.length;c++){const h=t[c];h.claim_order!==void 0&&a.push(h)}t=a}const e=new Int32Array(t.length+1),i=new Int32Array(t.length);e[0]=-1;let r=0;for(let a=0;a<t.length;a++){const c=t[a].claim_order,h=(r>0&&t[e[r]].claim_order<=c?r+1:Kn(1,r,f=>t[e[f]].claim_order,c))-1;i[a]=e[h]+1;const u=h+1;e[u]=a,r=Math.max(u,r)}const l=[],s=[];let o=t.length-1;for(let a=e[r]+1;a!=0;a=i[a-1]){for(l.push(t[a-1]);o>=a;o--)s.push(t[o]);o--}for(;o>=0;o--)s.push(t[o]);l.reverse(),s.sort((a,c)=>a.claim_order-c.claim_order);for(let a=0,c=0;a<s.length;a++){for(;c<l.length&&s[a].claim_order>=l[c].claim_order;)c++;const h=c<l.length?l[c]:null;n.insertBefore(s[a],h)}}function Vn(n,t){n.appendChild(t)}function Wn(n,t){if(ut){for(Yn(n),(n.actual_end_child===void 0||n.actual_end_child!==null&&n.actual_end_child.parentElement!==n)&&(n.actual_end_child=n.firstChild);n.actual_end_child!==null&&n.actual_end_child.claim_order===void 0;)n.actual_end_child=n.actual_end_child.nextSibling;t!==n.actual_end_child?(t.claim_order!==void 0||t.parentNode!==n)&&n.insertBefore(t,n.actual_end_child):n.actual_end_child=t.nextSibling}else(t.parentNode!==n||t.nextSibling!==null)&&n.appendChild(t)}function Di(n,t,e){ut&&!e?Wn(n,t):(t.parentNode!==n||t.nextSibling!=e)&&n.insertBefore(t,e||null)}function Zt(n){n.parentNode.removeChild(n)}function Oi(n,t){for(let e=0;e<n.length;e+=1)n[e]&&n[e].d(t)}function Jt(n){return document.createElement(n)}function Qn(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function Nt(n){return document.createTextNode(n)}function Bi(){return Nt(" ")}function Ui(){return Nt("")}function tn(n,t,e,i){return n.addEventListener(t,e,i),()=>n.removeEventListener(t,e,i)}function Gi(n,t,e){e==null?n.removeAttribute(t):n.getAttribute(t)!==e&&n.setAttribute(t,e)}function Zn(n){return Array.from(n.childNodes)}function Jn(n){n.claim_info===void 0&&(n.claim_info={last_index:0,total_claimed:0})}function nn(n,t,e,i,r=!1){Jn(n);const l=(()=>{for(let s=n.claim_info.last_index;s<n.length;s++){const o=n[s];if(t(o)){const a=e(o);return a===void 0?n.splice(s,1):n[s]=a,r||(n.claim_info.last_index=s),o}}for(let s=n.claim_info.last_index-1;s>=0;s--){const o=n[s];if(t(o)){const a=e(o);return a===void 0?n.splice(s,1):n[s]=a,r?a===void 0&&n.claim_info.last_index--:n.claim_info.last_index=s,o}}return i()})();return l.claim_order=n.claim_info.total_claimed,n.claim_info.total_claimed+=1,l}function en(n,t,e,i){return nn(n,r=>r.nodeName===t,r=>{const l=[];for(let s=0;s<r.attributes.length;s++){const o=r.attributes[s];e[o.name]||l.push(o.name)}l.forEach(s=>r.removeAttribute(s))},()=>i(t))}function Xi(n,t,e){return en(n,t,e,Jt)}function Ki(n,t,e){return en(n,t,e,Qn)}function te(n,t){return nn(n,e=>e.nodeType===3,e=>{const i=""+t;if(e.data.startsWith(i)){if(e.data.length!==i.length)return e.splitText(i.length)}else e.data=i},()=>Nt(t),!0)}function Yi(n){return te(n," ")}function Vi(n,t){t=""+t,n.wholeText!==t&&(n.data=t)}function Wi(n,t,e,i){n.style.setProperty(t,e,i?"important":"")}let ft;function ne(){if(ft===void 0){ft=!1;try{typeof window!="undefined"&&window.parent&&window.parent.document}catch{ft=!0}}return ft}function Qi(n,t){getComputedStyle(n).position==="static"&&(n.style.position="relative");const i=Jt("iframe");i.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),i.setAttribute("aria-hidden","true"),i.tabIndex=-1;const r=ne();let l;return r?(i.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",l=tn(window,"message",s=>{s.source===i.contentWindow&&t()})):(i.src="about:blank",i.onload=()=>{l=tn(i.contentWindow,"resize",t)}),Vn(n,i),()=>{(r||l&&i.contentWindow)&&l(),Zt(i)}}function Zi(n,t,e){n.classList[e?"add":"remove"](t)}function Ji(n,t=document.body){return Array.from(t.querySelectorAll(n))}let ht;function U(n){ht=n}function nt(){if(!ht)throw new Error("Function called outside component initialization");return ht}function tr(n){nt().$$.on_mount.push(n)}function nr(n){nt().$$.after_update.push(n)}function er(n,t){nt().$$.context.set(n,t)}function ir(n){return nt().$$.context.get(n)}const et=[],rn=[],dt=[],sn=[],ee=Promise.resolve();let At=!1;function ie(){At||(At=!0,ee.then(jt))}function $t(n){dt.push(n)}let St=!1;const Tt=new Set;function jt(){if(!St){St=!0;do{for(let n=0;n<et.length;n+=1){const t=et[n];U(t),re(t.$$)}for(U(null),et.length=0;rn.length;)rn.pop()();for(let n=0;n<dt.length;n+=1){const t=dt[n];Tt.has(t)||(Tt.add(t),t())}dt.length=0}while(et.length);for(;sn.length;)sn.pop()();At=!1,St=!1,Tt.clear()}}function re(n){if(n.fragment!==null){n.update(),K(n.before_update);const t=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,t),n.after_update.forEach($t)}}const gt=new Set;let G;function se(){G={r:0,c:[],p:G}}function le(){G.r||K(G.c),G=G.p}function ln(n,t){n&&n.i&&(gt.delete(n),n.i(t))}function oe(n,t,e,i){if(n&&n.o){if(gt.has(n))return;gt.add(n),G.c.push(()=>{gt.delete(n),i&&(e&&n.d(1),i())}),n.o(t)}}function rr(n,t){const e=t.token={};function i(r,l,s,o){if(t.token!==e)return;t.resolved=o;let a=t.ctx;s!==void 0&&(a=a.slice(),a[s]=o);const c=r&&(t.current=r)(a);let h=!1;t.block&&(t.blocks?t.blocks.forEach((u,f)=>{f!==l&&u&&(se(),oe(u,1,1,()=>{t.blocks[f]===u&&(t.blocks[f]=null)}),le())}):t.block.d(1),c.c(),ln(c,1),c.m(t.mount(),t.anchor),h=!0),t.block=c,t.blocks&&(t.blocks[l]=c),h&&jt()}if(On(n)){const r=nt();if(n.then(l=>{U(r),i(t.then,1,t.value,l),U(null)},l=>{if(U(r),i(t.catch,2,t.error,l),U(null),!t.hasCatch)throw l}),t.current!==t.pending)return i(t.pending,0),!0}else{if(t.current!==t.then)return i(t.then,1,t.value,n),!0;t.resolved=n}}function sr(n,t,e){const i=t.slice(),{resolved:r}=n;n.current===n.then&&(i[n.value]=r),n.current===n.catch&&(i[n.error]=r),n.block.p(i,e)}function lr(n,t){const e={},i={},r={$$scope:1};let l=n.length;for(;l--;){const s=n[l],o=t[l];if(o){for(const a in s)a in o||(i[a]=1);for(const a in o)r[a]||(e[a]=o[a],r[a]=1);n[l]=o}else for(const a in s)r[a]=1}for(const s in i)s in e||(e[s]=void 0);return e}function or(n){return typeof n=="object"&&n!==null?n:{}}function ar(n){n&&n.c()}function cr(n,t){n&&n.l(t)}function ae(n,t,e,i){const{fragment:r,on_mount:l,on_destroy:s,after_update:o}=n.$$;r&&r.m(t,e),i||$t(()=>{const a=l.map(Kt).filter(Vt);s?s.push(...a):K(a),n.$$.on_mount=[]}),o.forEach($t)}function ce(n,t){const e=n.$$;e.fragment!==null&&(K(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function ue(n,t){n.$$.dirty[0]===-1&&(et.push(n),ie(),n.$$.dirty.fill(0)),n.$$.dirty[t/31|0]|=1<<t%31}function ur(n,t,e,i,r,l,s,o=[-1]){const a=ht;U(n);const c=n.$$={fragment:null,ctx:null,props:l,update:B,not_equal:r,bound:Yt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:Yt(),dirty:o,skip_bound:!1,root:t.target||a.$$.root};s&&s(c.root);let h=!1;if(c.ctx=e?e(n,t.props||{},(u,f,...d)=>{const g=d.length?d[0]:f;return c.ctx&&r(c.ctx[u],c.ctx[u]=g)&&(!c.skip_bound&&c.bound[u]&&c.bound[u](g),h&&ue(n,u)),f}):[],c.update(),h=!0,K(c.before_update),c.fragment=i?i(c.ctx):!1,t.target){if(t.hydrate){Gn();const u=Zn(t.target);c.fragment&&c.fragment.l(u),u.forEach(Zt)}else c.fragment&&c.fragment.c();t.intro&&ln(n.$$.fragment),ae(n,t.target,t.anchor,t.customElement),Xn(),jt()}U(a)}class fr{$destroy(){ce(this,1),this.$destroy=B}$on(t,e){const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(e),()=>{const r=i.indexOf(e);r!==-1&&i.splice(r,1)}}$set(t){this.$$set&&!Un(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Y=[];function fe(n,t){return{subscribe:he(n,t).subscribe}}function he(n,t=B){let e;const i=new Set;function r(o){if(Bn(n,o)&&(n=o,e)){const a=!Y.length;for(const c of i)c[1](),Y.push(c,n);if(a){for(let c=0;c<Y.length;c+=2)Y[c][0](Y[c+1]);Y.length=0}}}function l(o){r(o(n))}function s(o,a=B){const c=[o,a];return i.add(c),i.size===1&&(e=t(r)||B),o(n),()=>{i.delete(c),i.size===0&&(e(),e=null)}}return{set:r,update:l,subscribe:s}}function hr(n,t,e){const i=!Array.isArray(n),r=i?[n]:n,l=t.length<2;return fe(e,s=>{let o=!1;const a=[];let c=0,h=B;const u=()=>{if(c)return;h();const d=t(i?a[0]:a,s);l?s(d):h=Vt(d)?d:B},f=r.map((d,g)=>Wt(d,m=>{a[g]=m,c&=~(1<<g),o&&u()},()=>{c|=1<<g}));return o=!0,u(),function(){K(f),h()}})}function on(n,t){return n==null||t==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function an(n){let t=n,e=n;n.length===1&&(t=(s,o)=>n(s)-o,e=de(n));function i(s,o,a,c){for(a==null&&(a=0),c==null&&(c=s.length);a<c;){const h=a+c>>>1;e(s[h],o)<0?a=h+1:c=h}return a}function r(s,o,a,c){for(a==null&&(a=0),c==null&&(c=s.length);a<c;){const h=a+c>>>1;e(s[h],o)>0?c=h:a=h+1}return a}function l(s,o,a,c){a==null&&(a=0),c==null&&(c=s.length);const h=i(s,o,a,c-1);return h>a&&t(s[h-1],o)>-t(s[h],o)?h-1:h}return{left:i,center:l,right:r}}function de(n){return(t,e)=>on(n(t),e)}function ge(n){return n===null?NaN:+n}const me=an(on),_e=me.right;an(ge).center;var xe=_e;class cn extends Map{constructor(t,e=ye){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),t!=null)for(const[i,r]of t)this.set(i,r)}get(t){return super.get(un(this,t))}has(t){return super.has(un(this,t))}set(t,e){return super.set(pe(this,t),e)}delete(t){return super.delete(be(this,t))}}function un({_intern:n,_key:t},e){const i=t(e);return n.has(i)?n.get(i):e}function pe({_intern:n,_key:t},e){const i=t(e);return n.has(i)?n.get(i):(n.set(i,e),e)}function be({_intern:n,_key:t},e){const i=t(e);return n.has(i)&&(e=n.get(e),n.delete(i)),e}function ye(n){return n!==null&&typeof n=="object"?n.valueOf():n}var Et=Math.sqrt(50),It=Math.sqrt(10),Ct=Math.sqrt(2);function we(n,t,e){var i,r=-1,l,s,o;if(t=+t,n=+n,e=+e,n===t&&e>0)return[n];if((i=t<n)&&(l=n,n=t,t=l),(o=fn(n,t,e))===0||!isFinite(o))return[];if(o>0){let a=Math.round(n/o),c=Math.round(t/o);for(a*o<n&&++a,c*o>t&&--c,s=new Array(l=c-a+1);++r<l;)s[r]=(a+r)*o}else{o=-o;let a=Math.round(n*o),c=Math.round(t*o);for(a/o<n&&++a,c/o>t&&--c,s=new Array(l=c-a+1);++r<l;)s[r]=(a+r)/o}return i&&s.reverse(),s}function fn(n,t,e){var i=(t-n)/Math.max(0,e),r=Math.floor(Math.log(i)/Math.LN10),l=i/Math.pow(10,r);return r>=0?(l>=Et?10:l>=It?5:l>=Ct?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(l>=Et?10:l>=It?5:l>=Ct?2:1)}function Me(n,t,e){var i=Math.abs(t-n)/Math.max(0,e),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),l=i/r;return l>=Et?r*=10:l>=It?r*=5:l>=Ct&&(r*=2),t<n?-r:r}function dr(n,t){let e;if(t===void 0)for(const i of n)i!=null&&(e<i||e===void 0&&i>=i)&&(e=i);else{let i=-1;for(let r of n)(r=t(r,++i,n))!=null&&(e<r||e===void 0&&r>=r)&&(e=r)}return e}function ke(n){let t;for(;t=n.sourceEvent;)n=t;return n}function gr(n,t){if(n=ke(n),t===void 0&&(t=n.currentTarget),t){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var i=e.createSVGPoint();return i.x=n.clientX,i.y=n.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[n.clientX-r.left-t.clientLeft,n.clientY-r.top-t.clientTop]}}return[n.pageX,n.pageY]}function Pt(n,t,e){n.prototype=t.prototype=e,e.constructor=n}function hn(n,t){var e=Object.create(n.prototype);for(var i in t)e[i]=t[i];return e}function it(){}var rt=.7,mt=1/rt,V="\\s*([+-]?\\d+)\\s*",st="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",F="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ve=/^#([0-9a-f]{3,8})$/,Ne=new RegExp("^rgb\\("+[V,V,V]+"\\)$"),Ae=new RegExp("^rgb\\("+[F,F,F]+"\\)$"),$e=new RegExp("^rgba\\("+[V,V,V,st]+"\\)$"),Se=new RegExp("^rgba\\("+[F,F,F,st]+"\\)$"),Te=new RegExp("^hsl\\("+[st,F,F]+"\\)$"),je=new RegExp("^hsla\\("+[st,F,F,st]+"\\)$"),dn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Pt(it,lt,{copy:function(n){return Object.assign(new this.constructor,this,n)},displayable:function(){return this.rgb().displayable()},hex:gn,formatHex:gn,formatHsl:Ee,formatRgb:mn,toString:mn});function gn(){return this.rgb().formatHex()}function Ee(){return yn(this).formatHsl()}function mn(){return this.rgb().formatRgb()}function lt(n){var t,e;return n=(n+"").trim().toLowerCase(),(t=ve.exec(n))?(e=t[1].length,t=parseInt(t[1],16),e===6?_n(t):e===3?new H(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):e===8?_t(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):e===4?_t(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Ne.exec(n))?new H(t[1],t[2],t[3],1):(t=Ae.exec(n))?new H(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=$e.exec(n))?_t(t[1],t[2],t[3],t[4]):(t=Se.exec(n))?_t(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Te.exec(n))?bn(t[1],t[2]/100,t[3]/100,1):(t=je.exec(n))?bn(t[1],t[2]/100,t[3]/100,t[4]):dn.hasOwnProperty(n)?_n(dn[n]):n==="transparent"?new H(NaN,NaN,NaN,0):null}function _n(n){return new H(n>>16&255,n>>8&255,n&255,1)}function _t(n,t,e,i){return i<=0&&(n=t=e=NaN),new H(n,t,e,i)}function Ie(n){return n instanceof it||(n=lt(n)),n?(n=n.rgb(),new H(n.r,n.g,n.b,n.opacity)):new H}function zt(n,t,e,i){return arguments.length===1?Ie(n):new H(n,t,e,i==null?1:i)}function H(n,t,e,i){this.r=+n,this.g=+t,this.b=+e,this.opacity=+i}Pt(H,zt,hn(it,{brighter:function(n){return n=n==null?mt:Math.pow(mt,n),new H(this.r*n,this.g*n,this.b*n,this.opacity)},darker:function(n){return n=n==null?rt:Math.pow(rt,n),new H(this.r*n,this.g*n,this.b*n,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xn,formatHex:xn,formatRgb:pn,toString:pn}));function xn(){return"#"+Rt(this.r)+Rt(this.g)+Rt(this.b)}function pn(){var n=this.opacity;return n=isNaN(n)?1:Math.max(0,Math.min(1,n)),(n===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(n===1?")":", "+n+")")}function Rt(n){return n=Math.max(0,Math.min(255,Math.round(n)||0)),(n<16?"0":"")+n.toString(16)}function bn(n,t,e,i){return i<=0?n=t=e=NaN:e<=0||e>=1?n=t=NaN:t<=0&&(n=NaN),new D(n,t,e,i)}function yn(n){if(n instanceof D)return new D(n.h,n.s,n.l,n.opacity);if(n instanceof it||(n=lt(n)),!n)return new D;if(n instanceof D)return n;n=n.rgb();var t=n.r/255,e=n.g/255,i=n.b/255,r=Math.min(t,e,i),l=Math.max(t,e,i),s=NaN,o=l-r,a=(l+r)/2;return o?(t===l?s=(e-i)/o+(e<i)*6:e===l?s=(i-t)/o+2:s=(t-e)/o+4,o/=a<.5?l+r:2-l-r,s*=60):o=a>0&&a<1?0:s,new D(s,o,a,n.opacity)}function Ce(n,t,e,i){return arguments.length===1?yn(n):new D(n,t,e,i==null?1:i)}function D(n,t,e,i){this.h=+n,this.s=+t,this.l=+e,this.opacity=+i}Pt(D,Ce,hn(it,{brighter:function(n){return n=n==null?mt:Math.pow(mt,n),new D(this.h,this.s,this.l*n,this.opacity)},darker:function(n){return n=n==null?rt:Math.pow(rt,n),new D(this.h,this.s,this.l*n,this.opacity)},rgb:function(){var n=this.h%360+(this.h<0)*360,t=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*t,r=2*e-i;return new H(qt(n>=240?n-240:n+120,r,i),qt(n,r,i),qt(n<120?n+240:n-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var n=this.opacity;return n=isNaN(n)?1:Math.max(0,Math.min(1,n)),(n===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(n===1?")":", "+n+")")}}));function qt(n,t,e){return(n<60?t+(e-t)*n/60:n<180?e:n<240?t+(e-t)*(240-n)/60:t)*255}const O=11102230246251565e-32,z=134217729,Pe=(3+8*O)*O;function Ht(n,t,e,i,r){let l,s,o,a,c=t[0],h=i[0],u=0,f=0;h>c==h>-c?(l=c,c=t[++u]):(l=h,h=i[++f]);let d=0;if(u<n&&f<e)for(h>c==h>-c?(s=c+l,o=l-(s-c),c=t[++u]):(s=h+l,o=l-(s-h),h=i[++f]),l=s,o!==0&&(r[d++]=o);u<n&&f<e;)h>c==h>-c?(s=l+c,a=s-l,o=l-(s-a)+(c-a),c=t[++u]):(s=l+h,a=s-l,o=l-(s-a)+(h-a),h=i[++f]),l=s,o!==0&&(r[d++]=o);for(;u<n;)s=l+c,a=s-l,o=l-(s-a)+(c-a),c=t[++u],l=s,o!==0&&(r[d++]=o);for(;f<e;)s=l+h,a=s-l,o=l-(s-a)+(h-a),h=i[++f],l=s,o!==0&&(r[d++]=o);return(l!==0||d===0)&&(r[d++]=l),d}function ze(n,t){let e=t[0];for(let i=1;i<n;i++)e+=t[i];return e}function ot(n){return new Float64Array(n)}const Re=(3+16*O)*O,qe=(2+12*O)*O,He=(9+64*O)*O*O,W=ot(4),wn=ot(8),Mn=ot(12),kn=ot(16),q=ot(4);function Le(n,t,e,i,r,l,s){let o,a,c,h,u,f,d,g,m,b,x,w,k,A,v,S,I,T;const C=n-r,p=e-r,_=t-l,M=i-l;A=C*M,f=z*C,d=f-(f-C),g=C-d,f=z*M,m=f-(f-M),b=M-m,v=g*b-(A-d*m-g*m-d*b),S=_*p,f=z*_,d=f-(f-_),g=_-d,f=z*p,m=f-(f-p),b=p-m,I=g*b-(S-d*m-g*m-d*b),x=v-I,u=v-x,W[0]=v-(x+u)+(u-I),w=A+x,u=w-A,k=A-(w-u)+(x-u),x=k-S,u=k-x,W[1]=k-(x+u)+(u-S),T=w+x,u=T-w,W[2]=w-(T-u)+(x-u),W[3]=T;let y=ze(4,W),$=qe*s;if(y>=$||-y>=$||(u=n-C,o=n-(C+u)+(u-r),u=e-p,c=e-(p+u)+(u-r),u=t-_,a=t-(_+u)+(u-l),u=i-M,h=i-(M+u)+(u-l),o===0&&a===0&&c===0&&h===0)||($=He*s+Pe*Math.abs(y),y+=C*h+M*o-(_*c+p*a),y>=$||-y>=$))return y;A=o*M,f=z*o,d=f-(f-o),g=o-d,f=z*M,m=f-(f-M),b=M-m,v=g*b-(A-d*m-g*m-d*b),S=a*p,f=z*a,d=f-(f-a),g=a-d,f=z*p,m=f-(f-p),b=p-m,I=g*b-(S-d*m-g*m-d*b),x=v-I,u=v-x,q[0]=v-(x+u)+(u-I),w=A+x,u=w-A,k=A-(w-u)+(x-u),x=k-S,u=k-x,q[1]=k-(x+u)+(u-S),T=w+x,u=T-w,q[2]=w-(T-u)+(x-u),q[3]=T;const R=Ht(4,W,4,q,wn);A=C*h,f=z*C,d=f-(f-C),g=C-d,f=z*h,m=f-(f-h),b=h-m,v=g*b-(A-d*m-g*m-d*b),S=_*c,f=z*_,d=f-(f-_),g=_-d,f=z*c,m=f-(f-c),b=c-m,I=g*b-(S-d*m-g*m-d*b),x=v-I,u=v-x,q[0]=v-(x+u)+(u-I),w=A+x,u=w-A,k=A-(w-u)+(x-u),x=k-S,u=k-x,q[1]=k-(x+u)+(u-S),T=w+x,u=T-w,q[2]=w-(T-u)+(x-u),q[3]=T;const E=Ht(R,wn,4,q,Mn);A=o*h,f=z*o,d=f-(f-o),g=o-d,f=z*h,m=f-(f-h),b=h-m,v=g*b-(A-d*m-g*m-d*b),S=a*c,f=z*a,d=f-(f-a),g=a-d,f=z*c,m=f-(f-c),b=c-m,I=g*b-(S-d*m-g*m-d*b),x=v-I,u=v-x,q[0]=v-(x+u)+(u-I),w=A+x,u=w-A,k=A-(w-u)+(x-u),x=k-S,u=k-x,q[1]=k-(x+u)+(u-S),T=w+x,u=T-w,q[2]=w-(T-u)+(x-u),q[3]=T;const N=Ht(E,Mn,4,q,kn);return kn[N-1]}function xt(n,t,e,i,r,l){const s=(t-l)*(e-r),o=(n-r)*(i-l),a=s-o;if(s===0||o===0||s>0!=o>0)return a;const c=Math.abs(s+o);return Math.abs(a)>=Re*c?a:-Le(n,t,e,i,r,l,c)}const vn=Math.pow(2,-52),pt=new Uint32Array(512);class bt{static from(t,e=Ue,i=Ge){const r=t.length,l=new Float64Array(r*2);for(let s=0;s<r;s++){const o=t[s];l[2*s]=e(o),l[2*s+1]=i(o)}return new bt(l)}constructor(t){const e=t.length>>1;if(e>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const i=Math.max(2*e-5,0);this._triangles=new Uint32Array(i*3),this._halfedges=new Int32Array(i*3),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()}update(){const{coords:t,_hullPrev:e,_hullNext:i,_hullTri:r,_hullHash:l}=this,s=t.length>>1;let o=1/0,a=1/0,c=-1/0,h=-1/0;for(let p=0;p<s;p++){const _=t[2*p],M=t[2*p+1];_<o&&(o=_),M<a&&(a=M),_>c&&(c=_),M>h&&(h=M),this._ids[p]=p}const u=(o+c)/2,f=(a+h)/2;let d=1/0,g,m,b;for(let p=0;p<s;p++){const _=Lt(u,f,t[2*p],t[2*p+1]);_<d&&(g=p,d=_)}const x=t[2*g],w=t[2*g+1];d=1/0;for(let p=0;p<s;p++){if(p===g)continue;const _=Lt(x,w,t[2*p],t[2*p+1]);_<d&&_>0&&(m=p,d=_)}let k=t[2*m],A=t[2*m+1],v=1/0;for(let p=0;p<s;p++){if(p===g||p===m)continue;const _=Oe(x,w,k,A,t[2*p],t[2*p+1]);_<v&&(b=p,v=_)}let S=t[2*b],I=t[2*b+1];if(v===1/0){for(let M=0;M<s;M++)this._dists[M]=t[2*M]-t[0]||t[2*M+1]-t[1];Q(this._ids,this._dists,0,s-1);const p=new Uint32Array(s);let _=0;for(let M=0,y=-1/0;M<s;M++){const $=this._ids[M];this._dists[$]>y&&(p[_++]=$,y=this._dists[$])}this.hull=p.subarray(0,_),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(xt(x,w,k,A,S,I)<0){const p=m,_=k,M=A;m=b,k=S,A=I,b=p,S=_,I=M}const T=Be(x,w,k,A,S,I);this._cx=T.x,this._cy=T.y;for(let p=0;p<s;p++)this._dists[p]=Lt(t[2*p],t[2*p+1],T.x,T.y);Q(this._ids,this._dists,0,s-1),this._hullStart=g;let C=3;i[g]=e[b]=m,i[m]=e[g]=b,i[b]=e[m]=g,r[g]=0,r[m]=1,r[b]=2,l.fill(-1),l[this._hashKey(x,w)]=g,l[this._hashKey(k,A)]=m,l[this._hashKey(S,I)]=b,this.trianglesLen=0,this._addTriangle(g,m,b,-1,-1,-1);for(let p=0,_,M;p<this._ids.length;p++){const y=this._ids[p],$=t[2*y],R=t[2*y+1];if(p>0&&Math.abs($-_)<=vn&&Math.abs(R-M)<=vn||(_=$,M=R,y===g||y===m||y===b))continue;let E=0;for(let vt=0,Fn=this._hashKey($,R);vt<this._hashSize&&(E=l[(Fn+vt)%this._hashSize],!(E!==-1&&E!==i[E]));vt++);E=e[E];let N=E,j;for(;j=i[N],xt($,R,t[2*N],t[2*N+1],t[2*j],t[2*j+1])>=0;)if(N=j,N===E){N=-1;break}if(N===-1)continue;let P=this._addTriangle(N,y,i[N],-1,-1,r[N]);r[y]=this._legalize(P+2),r[N]=P,C++;let L=i[N];for(;j=i[L],xt($,R,t[2*L],t[2*L+1],t[2*j],t[2*j+1])<0;)P=this._addTriangle(L,y,j,r[y],-1,r[L]),r[y]=this._legalize(P+2),i[L]=L,C--,L=j;if(N===E)for(;j=e[N],xt($,R,t[2*j],t[2*j+1],t[2*N],t[2*N+1])<0;)P=this._addTriangle(j,y,N,-1,r[N],r[j]),this._legalize(P+2),r[j]=P,i[N]=N,C--,N=j;this._hullStart=e[y]=N,i[N]=e[L]=y,i[y]=L,l[this._hashKey($,R)]=y,l[this._hashKey(t[2*N],t[2*N+1])]=N}this.hull=new Uint32Array(C);for(let p=0,_=this._hullStart;p<C;p++)this.hull[p]=_,_=i[_];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,e){return Math.floor(Fe(t-this._cx,e-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:e,_halfedges:i,coords:r}=this;let l=0,s=0;for(;;){const o=i[t],a=t-t%3;if(s=a+(t+2)%3,o===-1){if(l===0)break;t=pt[--l];continue}const c=o-o%3,h=a+(t+1)%3,u=c+(o+2)%3,f=e[s],d=e[t],g=e[h],m=e[u];if(De(r[2*f],r[2*f+1],r[2*d],r[2*d+1],r[2*g],r[2*g+1],r[2*m],r[2*m+1])){e[t]=m,e[o]=f;const x=i[u];if(x===-1){let k=this._hullStart;do{if(this._hullTri[k]===u){this._hullTri[k]=t;break}k=this._hullPrev[k]}while(k!==this._hullStart)}this._link(t,x),this._link(o,i[s]),this._link(s,u);const w=c+(o+1)%3;l<pt.length&&(pt[l++]=w)}else{if(l===0)break;t=pt[--l]}}return s}_link(t,e){this._halfedges[t]=e,e!==-1&&(this._halfedges[e]=t)}_addTriangle(t,e,i,r,l,s){const o=this.trianglesLen;return this._triangles[o]=t,this._triangles[o+1]=e,this._triangles[o+2]=i,this._link(o,r),this._link(o+1,l),this._link(o+2,s),this.trianglesLen+=3,o}}function Fe(n,t){const e=n/(Math.abs(n)+Math.abs(t));return(t>0?3-e:1+e)/4}function Lt(n,t,e,i){const r=n-e,l=t-i;return r*r+l*l}function De(n,t,e,i,r,l,s,o){const a=n-s,c=t-o,h=e-s,u=i-o,f=r-s,d=l-o,g=a*a+c*c,m=h*h+u*u,b=f*f+d*d;return a*(u*b-m*d)-c*(h*b-m*f)+g*(h*d-u*f)<0}function Oe(n,t,e,i,r,l){const s=e-n,o=i-t,a=r-n,c=l-t,h=s*s+o*o,u=a*a+c*c,f=.5/(s*c-o*a),d=(c*h-o*u)*f,g=(s*u-a*h)*f;return d*d+g*g}function Be(n,t,e,i,r,l){const s=e-n,o=i-t,a=r-n,c=l-t,h=s*s+o*o,u=a*a+c*c,f=.5/(s*c-o*a),d=n+(c*h-o*u)*f,g=t+(s*u-a*h)*f;return{x:d,y:g}}function Q(n,t,e,i){if(i-e<=20)for(let r=e+1;r<=i;r++){const l=n[r],s=t[l];let o=r-1;for(;o>=e&&t[n[o]]>s;)n[o+1]=n[o--];n[o+1]=l}else{const r=e+i>>1;let l=e+1,s=i;at(n,r,l),t[n[e]]>t[n[i]]&&at(n,e,i),t[n[l]]>t[n[i]]&&at(n,l,i),t[n[e]]>t[n[l]]&&at(n,e,l);const o=n[l],a=t[o];for(;;){do l++;while(t[n[l]]<a);do s--;while(t[n[s]]>a);if(s<l)break;at(n,l,s)}n[e+1]=n[s],n[s]=o,i-l+1>=s-e?(Q(n,t,l,i),Q(n,t,e,s-1)):(Q(n,t,e,s-1),Q(n,t,l,i))}}function at(n,t,e){const i=n[t];n[t]=n[e],n[e]=i}function Ue(n){return n[0]}function Ge(n){return n[1]}const Nn=1e-6;class X{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,e){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,e){this._+=`L${this._x1=+t},${this._y1=+e}`}arc(t,e,i){t=+t,e=+e,i=+i;const r=t+i,l=e;if(i<0)throw new Error("negative radius");this._x1===null?this._+=`M${r},${l}`:(Math.abs(this._x1-r)>Nn||Math.abs(this._y1-l)>Nn)&&(this._+="L"+r+","+l),!!i&&(this._+=`A${i},${i},0,1,1,${t-i},${e}A${i},${i},0,1,1,${this._x1=r},${this._y1=l}`)}rect(t,e,i,r){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${+i}v${+r}h${-i}Z`}value(){return this._||null}}class Ft{constructor(){this._=[]}moveTo(t,e){this._.push([t,e])}closePath(){this._.push(this._[0].slice())}lineTo(t,e){this._.push([t,e])}value(){return this._.length?this._:null}}class Xe{constructor(t,[e,i,r,l]=[0,0,960,500]){if(!((r=+r)>=(e=+e))||!((l=+l)>=(i=+i)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=r,this.xmin=e,this.ymax=l,this.ymin=i,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:e,triangles:i},vectors:r}=this,l=this.circumcenters=this._circumcenters.subarray(0,i.length/3*2);for(let d=0,g=0,m=i.length,b,x;d<m;d+=3,g+=2){const w=i[d]*2,k=i[d+1]*2,A=i[d+2]*2,v=t[w],S=t[w+1],I=t[k],T=t[k+1],C=t[A],p=t[A+1],_=I-v,M=T-S,y=C-v,$=p-S,R=(_*$-M*y)*2;if(Math.abs(R)<1e-9){let E=1e9;const N=i[0]*2;E*=Math.sign((t[N]-v)*$-(t[N+1]-S)*y),b=(v+C)/2-E*$,x=(S+p)/2+E*y}else{const E=1/R,N=_*_+M*M,j=y*y+$*$;b=v+($*N-M*j)*E,x=S+(_*j-y*N)*E}l[g]=b,l[g+1]=x}let s=e[e.length-1],o,a=s*4,c,h=t[2*s],u,f=t[2*s+1];r.fill(0);for(let d=0;d<e.length;++d)s=e[d],o=a,c=h,u=f,a=s*4,h=t[2*s],f=t[2*s+1],r[o+2]=r[a]=u-f,r[o+3]=r[a+1]=h-c}render(t){const e=t==null?t=new X:void 0,{delaunay:{halfedges:i,inedges:r,hull:l},circumcenters:s,vectors:o}=this;if(l.length<=1)return null;for(let h=0,u=i.length;h<u;++h){const f=i[h];if(f<h)continue;const d=Math.floor(h/3)*2,g=Math.floor(f/3)*2,m=s[d],b=s[d+1],x=s[g],w=s[g+1];this._renderSegment(m,b,x,w,t)}let a,c=l[l.length-1];for(let h=0;h<l.length;++h){a=c,c=l[h];const u=Math.floor(r[c]/3)*2,f=s[u],d=s[u+1],g=a*4,m=this._project(f,d,o[g+2],o[g+3]);m&&this._renderSegment(f,d,m[0],m[1],t)}return e&&e.value()}renderBounds(t){const e=t==null?t=new X:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}renderCell(t,e){const i=e==null?e=new X:void 0,r=this._clip(t);if(r===null||!r.length)return;e.moveTo(r[0],r[1]);let l=r.length;for(;r[0]===r[l-2]&&r[1]===r[l-1]&&l>1;)l-=2;for(let s=2;s<l;s+=2)(r[s]!==r[s-2]||r[s+1]!==r[s-1])&&e.lineTo(r[s],r[s+1]);return e.closePath(),i&&i.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let e=0,i=t.length/2;e<i;++e){const r=this.cellPolygon(e);r&&(r.index=e,yield r)}}cellPolygon(t){const e=new Ft;return this.renderCell(t,e),e.value()}_renderSegment(t,e,i,r,l){let s;const o=this._regioncode(t,e),a=this._regioncode(i,r);o===0&&a===0?(l.moveTo(t,e),l.lineTo(i,r)):(s=this._clipSegment(t,e,i,r,o,a))&&(l.moveTo(s[0],s[1]),l.lineTo(s[2],s[3]))}contains(t,e,i){return e=+e,e!==e||(i=+i,i!==i)?!1:this.delaunay._step(t,e,i)===t}*neighbors(t){const e=this._clip(t);if(e)for(const i of this.delaunay.neighbors(t)){const r=this._clip(i);if(r)t:for(let l=0,s=e.length;l<s;l+=2)for(let o=0,a=r.length;o<a;o+=2)if(e[l]==r[o]&&e[l+1]==r[o+1]&&e[(l+2)%s]==r[(o+a-2)%a]&&e[(l+3)%s]==r[(o+a-1)%a]){yield i;break t}}}_cell(t){const{circumcenters:e,delaunay:{inedges:i,halfedges:r,triangles:l}}=this,s=i[t];if(s===-1)return null;const o=[];let a=s;do{const c=Math.floor(a/3);if(o.push(e[c*2],e[c*2+1]),a=a%3==2?a-2:a+1,l[a]!==t)break;a=r[a]}while(a!==s&&a!==-1);return o}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const e=this._cell(t);if(e===null)return null;const{vectors:i}=this,r=t*4;return i[r]||i[r+1]?this._clipInfinite(t,e,i[r],i[r+1],i[r+2],i[r+3]):this._clipFinite(t,e)}_clipFinite(t,e){const i=e.length;let r=null,l,s,o=e[i-2],a=e[i-1],c,h=this._regioncode(o,a),u,f=0;for(let d=0;d<i;d+=2)if(l=o,s=a,o=e[d],a=e[d+1],c=h,h=this._regioncode(o,a),c===0&&h===0)u=f,f=0,r?r.push(o,a):r=[o,a];else{let g,m,b,x,w;if(c===0){if((g=this._clipSegment(l,s,o,a,c,h))===null)continue;[m,b,x,w]=g}else{if((g=this._clipSegment(o,a,l,s,h,c))===null)continue;[x,w,m,b]=g,u=f,f=this._edgecode(m,b),u&&f&&this._edge(t,u,f,r,r.length),r?r.push(m,b):r=[m,b]}u=f,f=this._edgecode(x,w),u&&f&&this._edge(t,u,f,r,r.length),r?r.push(x,w):r=[x,w]}if(r)u=f,f=this._edgecode(r[0],r[1]),u&&f&&this._edge(t,u,f,r,r.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return r}_clipSegment(t,e,i,r,l,s){for(;;){if(l===0&&s===0)return[t,e,i,r];if(l&s)return null;let o,a,c=l||s;c&8?(o=t+(i-t)*(this.ymax-e)/(r-e),a=this.ymax):c&4?(o=t+(i-t)*(this.ymin-e)/(r-e),a=this.ymin):c&2?(a=e+(r-e)*(this.xmax-t)/(i-t),o=this.xmax):(a=e+(r-e)*(this.xmin-t)/(i-t),o=this.xmin),l?(t=o,e=a,l=this._regioncode(t,e)):(i=o,r=a,s=this._regioncode(i,r))}}_clipInfinite(t,e,i,r,l,s){let o=Array.from(e),a;if((a=this._project(o[0],o[1],i,r))&&o.unshift(a[0],a[1]),(a=this._project(o[o.length-2],o[o.length-1],l,s))&&o.push(a[0],a[1]),o=this._clipFinite(t,o))for(let c=0,h=o.length,u,f=this._edgecode(o[h-2],o[h-1]);c<h;c+=2)u=f,f=this._edgecode(o[c],o[c+1]),u&&f&&(c=this._edge(t,u,f,o,c),h=o.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(o=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return o}_edge(t,e,i,r,l){for(;e!==i;){let s,o;switch(e){case 5:e=4;continue;case 4:e=6,s=this.xmax,o=this.ymin;break;case 6:e=2;continue;case 2:e=10,s=this.xmax,o=this.ymax;break;case 10:e=8;continue;case 8:e=9,s=this.xmin,o=this.ymax;break;case 9:e=1;continue;case 1:e=5,s=this.xmin,o=this.ymin;break}(r[l]!==s||r[l+1]!==o)&&this.contains(t,s,o)&&(r.splice(l,0,s,o),l+=2)}if(r.length>4)for(let s=0;s<r.length;s+=2){const o=(s+2)%r.length,a=(s+4)%r.length;(r[s]===r[o]&&r[o]===r[a]||r[s+1]===r[o+1]&&r[o+1]===r[a+1])&&(r.splice(o,2),s-=2)}return l}_project(t,e,i,r){let l=1/0,s,o,a;if(r<0){if(e<=this.ymin)return null;(s=(this.ymin-e)/r)<l&&(a=this.ymin,o=t+(l=s)*i)}else if(r>0){if(e>=this.ymax)return null;(s=(this.ymax-e)/r)<l&&(a=this.ymax,o=t+(l=s)*i)}if(i>0){if(t>=this.xmax)return null;(s=(this.xmax-t)/i)<l&&(o=this.xmax,a=e+(l=s)*r)}else if(i<0){if(t<=this.xmin)return null;(s=(this.xmin-t)/i)<l&&(o=this.xmin,a=e+(l=s)*r)}return[o,a]}_edgecode(t,e){return(t===this.xmin?1:t===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}_regioncode(t,e){return(t<this.xmin?1:t>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}}const Ke=2*Math.PI,Z=Math.pow;function Ye(n){return n[0]}function Ve(n){return n[1]}function We(n){const{triangles:t,coords:e}=n;for(let i=0;i<t.length;i+=3){const r=2*t[i],l=2*t[i+1],s=2*t[i+2];if((e[s]-e[r])*(e[l+1]-e[r+1])-(e[l]-e[r])*(e[s+1]-e[r+1])>1e-10)return!1}return!0}function Qe(n,t,e){return[n+Math.sin(n+t)*e,t+Math.cos(n-t)*e]}class An{static from(t,e=Ye,i=Ve,r){return new An("length"in t?Ze(t,e,i,r):Float64Array.from(Je(t,e,i,r)))}constructor(t){this._delaunator=new bt(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,e=this.points;if(t.hull&&t.hull.length>2&&We(t)){this.collinear=Int32Array.from({length:e.length/2},(f,d)=>d).sort((f,d)=>e[2*f]-e[2*d]||e[2*f+1]-e[2*d+1]);const a=this.collinear[0],c=this.collinear[this.collinear.length-1],h=[e[2*a],e[2*a+1],e[2*c],e[2*c+1]],u=1e-8*Math.hypot(h[3]-h[1],h[2]-h[0]);for(let f=0,d=e.length/2;f<d;++f){const g=Qe(e[2*f],e[2*f+1],u);e[2*f]=g[0],e[2*f+1]=g[1]}this._delaunator=new bt(e)}else delete this.collinear;const i=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,l=this.triangles=this._delaunator.triangles,s=this.inedges.fill(-1),o=this._hullIndex.fill(-1);for(let a=0,c=i.length;a<c;++a){const h=l[a%3==2?a-2:a+1];(i[a]===-1||s[h]===-1)&&(s[h]=a)}for(let a=0,c=r.length;a<c;++a)o[r[a]]=a;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],s[r[0]]=1,r.length===2&&(s[r[1]]=0,this.triangles[1]=r[1],this.triangles[2]=r[1]))}voronoi(t){return new Xe(this,t)}*neighbors(t){const{inedges:e,hull:i,_hullIndex:r,halfedges:l,triangles:s,collinear:o}=this;if(o){const u=o.indexOf(t);u>0&&(yield o[u-1]),u<o.length-1&&(yield o[u+1]);return}const a=e[t];if(a===-1)return;let c=a,h=-1;do{if(yield h=s[c],c=c%3==2?c-2:c+1,s[c]!==t)return;if(c=l[c],c===-1){const u=i[(r[t]+1)%i.length];u!==h&&(yield u);return}}while(c!==a)}find(t,e,i=0){if(t=+t,t!==t||(e=+e,e!==e))return-1;const r=i;let l;for(;(l=this._step(i,t,e))>=0&&l!==i&&l!==r;)i=l;return l}_step(t,e,i){const{inedges:r,hull:l,_hullIndex:s,halfedges:o,triangles:a,points:c}=this;if(r[t]===-1||!c.length)return(t+1)%(c.length>>1);let h=t,u=Z(e-c[t*2],2)+Z(i-c[t*2+1],2);const f=r[t];let d=f;do{let g=a[d];const m=Z(e-c[g*2],2)+Z(i-c[g*2+1],2);if(m<u&&(u=m,h=g),d=d%3==2?d-2:d+1,a[d]!==t)break;if(d=o[d],d===-1){if(d=l[(s[t]+1)%l.length],d!==g&&Z(e-c[d*2],2)+Z(i-c[d*2+1],2)<u)return d;break}}while(d!==f);return h}render(t){const e=t==null?t=new X:void 0,{points:i,halfedges:r,triangles:l}=this;for(let s=0,o=r.length;s<o;++s){const a=r[s];if(a<s)continue;const c=l[s]*2,h=l[a]*2;t.moveTo(i[c],i[c+1]),t.lineTo(i[h],i[h+1])}return this.renderHull(t),e&&e.value()}renderPoints(t,e){e===void 0&&(!t||typeof t.moveTo!="function")&&(e=t,t=null),e=e==null?2:+e;const i=t==null?t=new X:void 0,{points:r}=this;for(let l=0,s=r.length;l<s;l+=2){const o=r[l],a=r[l+1];t.moveTo(o+e,a),t.arc(o,a,e,0,Ke)}return i&&i.value()}renderHull(t){const e=t==null?t=new X:void 0,{hull:i,points:r}=this,l=i[0]*2,s=i.length;t.moveTo(r[l],r[l+1]);for(let o=1;o<s;++o){const a=2*i[o];t.lineTo(r[a],r[a+1])}return t.closePath(),e&&e.value()}hullPolygon(){const t=new Ft;return this.renderHull(t),t.value()}renderTriangle(t,e){const i=e==null?e=new X:void 0,{points:r,triangles:l}=this,s=l[t*=3]*2,o=l[t+1]*2,a=l[t+2]*2;return e.moveTo(r[s],r[s+1]),e.lineTo(r[o],r[o+1]),e.lineTo(r[a],r[a+1]),e.closePath(),i&&i.value()}*trianglePolygons(){const{triangles:t}=this;for(let e=0,i=t.length/3;e<i;++e)yield this.trianglePolygon(e)}trianglePolygon(t){const e=new Ft;return this.renderTriangle(t,e),e.value()}}function Ze(n,t,e,i){const r=n.length,l=new Float64Array(r*2);for(let s=0;s<r;++s){const o=n[s];l[s*2]=t.call(i,o,s,n),l[s*2+1]=e.call(i,o,s,n)}return l}function*Je(n,t,e,i){let r=0;for(const l of n)yield t.call(i,l,r,n),yield e.call(i,l,r,n),++r}function ti(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function yt(n,t){if((e=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var e,i=n.slice(0,e);return[i.length>1?i[0]+i.slice(2):i,+n.slice(e+1)]}function J(n){return n=yt(Math.abs(n)),n?n[1]:NaN}function ni(n,t){return function(e,i){for(var r=e.length,l=[],s=0,o=n[0],a=0;r>0&&o>0&&(a+o+1>i&&(o=Math.max(1,i-a)),l.push(e.substring(r-=o,r+o)),!((a+=o+1)>i));)o=n[s=(s+1)%n.length];return l.reverse().join(t)}}function ei(n){return function(t){return t.replace(/[0-9]/g,function(e){return n[+e]})}}var ii=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function wt(n){if(!(t=ii.exec(n)))throw new Error("invalid format: "+n);var t;return new Dt({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}wt.prototype=Dt.prototype;function Dt(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}Dt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ri(n){t:for(var t=n.length,e=1,i=-1,r;e<t;++e)switch(n[e]){case".":i=r=e;break;case"0":i===0&&(i=e),r=e;break;default:if(!+n[e])break t;i>0&&(i=0);break}return i>0?n.slice(0,i)+n.slice(r+1):n}var $n;function si(n,t){var e=yt(n,t);if(!e)return n+"";var i=e[0],r=e[1],l=r-($n=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,s=i.length;return l===s?i:l>s?i+new Array(l-s+1).join("0"):l>0?i.slice(0,l)+"."+i.slice(l):"0."+new Array(1-l).join("0")+yt(n,Math.max(0,t+l-1))[0]}function Sn(n,t){var e=yt(n,t);if(!e)return n+"";var i=e[0],r=e[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}var Tn={"%":(n,t)=>(n*100).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:ti,e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>Sn(n*100,t),r:Sn,s:si,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function jn(n){return n}var En=Array.prototype.map,In=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function li(n){var t=n.grouping===void 0||n.thousands===void 0?jn:ni(En.call(n.grouping,Number),n.thousands+""),e=n.currency===void 0?"":n.currency[0]+"",i=n.currency===void 0?"":n.currency[1]+"",r=n.decimal===void 0?".":n.decimal+"",l=n.numerals===void 0?jn:ei(En.call(n.numerals,String)),s=n.percent===void 0?"%":n.percent+"",o=n.minus===void 0?"\u2212":n.minus+"",a=n.nan===void 0?"NaN":n.nan+"";function c(u){u=wt(u);var f=u.fill,d=u.align,g=u.sign,m=u.symbol,b=u.zero,x=u.width,w=u.comma,k=u.precision,A=u.trim,v=u.type;v==="n"?(w=!0,v="g"):Tn[v]||(k===void 0&&(k=12),A=!0,v="g"),(b||f==="0"&&d==="=")&&(b=!0,f="0",d="=");var S=m==="$"?e:m==="#"&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",I=m==="$"?i:/[%p]/.test(v)?s:"",T=Tn[v],C=/[defgprs%]/.test(v);k=k===void 0?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function p(_){var M=S,y=I,$,R,E;if(v==="c")y=T(_)+y,_="";else{_=+_;var N=_<0||1/_<0;if(_=isNaN(_)?a:T(Math.abs(_),k),A&&(_=ri(_)),N&&+_==0&&g!=="+"&&(N=!1),M=(N?g==="("?g:o:g==="-"||g==="("?"":g)+M,y=(v==="s"?In[8+$n/3]:"")+y+(N&&g==="("?")":""),C){for($=-1,R=_.length;++$<R;)if(E=_.charCodeAt($),48>E||E>57){y=(E===46?r+_.slice($+1):_.slice($))+y,_=_.slice(0,$);break}}}w&&!b&&(_=t(_,1/0));var j=M.length+_.length+y.length,P=j<x?new Array(x-j+1).join(f):"";switch(w&&b&&(_=t(P+_,P.length?x-y.length:1/0),P=""),d){case"<":_=M+_+y+P;break;case"=":_=M+P+_+y;break;case"^":_=P.slice(0,j=P.length>>1)+M+_+y+P.slice(j);break;default:_=P+M+_+y;break}return l(_)}return p.toString=function(){return u+""},p}function h(u,f){var d=c((u=wt(u),u.type="f",u)),g=Math.max(-8,Math.min(8,Math.floor(J(f)/3)))*3,m=Math.pow(10,-g),b=In[8+g/3];return function(x){return d(m*x)+b}}return{format:c,formatPrefix:h}}var Mt,Cn,Pn;oi({thousands:",",grouping:[3],currency:["$",""]});function oi(n){return Mt=li(n),Cn=Mt.format,Pn=Mt.formatPrefix,Mt}function ai(n){return Math.max(0,-J(Math.abs(n)))}function ci(n,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(J(t)/3)))*3-J(Math.abs(n)))}function ui(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,J(t)-J(n))+1}var Ot=n=>()=>n;function fi(n,t){return function(e){return n+e*t}}function hi(n,t,e){return n=Math.pow(n,e),t=Math.pow(t,e)-n,e=1/e,function(i){return Math.pow(n+i*t,e)}}function di(n){return(n=+n)==1?zn:function(t,e){return e-t?hi(t,e,n):Ot(isNaN(t)?e:t)}}function zn(n,t){var e=t-n;return e?fi(n,e):Ot(isNaN(n)?t:n)}var Rn=function n(t){var e=di(t);function i(r,l){var s=e((r=zt(r)).r,(l=zt(l)).r),o=e(r.g,l.g),a=e(r.b,l.b),c=zn(r.opacity,l.opacity);return function(h){return r.r=s(h),r.g=o(h),r.b=a(h),r.opacity=c(h),r+""}}return i.gamma=n,i}(1);function gi(n,t){t||(t=[]);var e=n?Math.min(t.length,n.length):0,i=t.slice(),r;return function(l){for(r=0;r<e;++r)i[r]=n[r]*(1-l)+t[r]*l;return i}}function mi(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function _i(n,t){var e=t?t.length:0,i=n?Math.min(e,n.length):0,r=new Array(i),l=new Array(e),s;for(s=0;s<i;++s)r[s]=Gt(n[s],t[s]);for(;s<e;++s)l[s]=t[s];return function(o){for(s=0;s<i;++s)l[s]=r[s](o);return l}}function xi(n,t){var e=new Date;return n=+n,t=+t,function(i){return e.setTime(n*(1-i)+t*i),e}}function kt(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}function pi(n,t){var e={},i={},r;(n===null||typeof n!="object")&&(n={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in n?e[r]=Gt(n[r],t[r]):i[r]=t[r];return function(l){for(r in e)i[r]=e[r](l);return i}}var Bt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ut=new RegExp(Bt.source,"g");function bi(n){return function(){return n}}function yi(n){return function(t){return n(t)+""}}function wi(n,t){var e=Bt.lastIndex=Ut.lastIndex=0,i,r,l,s=-1,o=[],a=[];for(n=n+"",t=t+"";(i=Bt.exec(n))&&(r=Ut.exec(t));)(l=r.index)>e&&(l=t.slice(e,l),o[s]?o[s]+=l:o[++s]=l),(i=i[0])===(r=r[0])?o[s]?o[s]+=r:o[++s]=r:(o[++s]=null,a.push({i:s,x:kt(i,r)})),e=Ut.lastIndex;return e<t.length&&(l=t.slice(e),o[s]?o[s]+=l:o[++s]=l),o.length<2?a[0]?yi(a[0].x):bi(t):(t=a.length,function(c){for(var h=0,u;h<t;++h)o[(u=a[h]).i]=u.x(c);return o.join("")})}function Gt(n,t){var e=typeof t,i;return t==null||e==="boolean"?Ot(t):(e==="number"?kt:e==="string"?(i=lt(t))?(t=i,Rn):wi:t instanceof lt?Rn:t instanceof Date?xi:mi(t)?gi:Array.isArray(t)?_i:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?pi:kt)(n,t)}function Mi(n,t){return n=+n,t=+t,function(e){return Math.round(n*(1-e)+t*e)}}function qn(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n);break}return this}const Hn=Symbol("implicit");function ki(){var n=new cn,t=[],e=[],i=Hn;function r(l){let s=n.get(l);if(s===void 0){if(i!==Hn)return i;n.set(l,s=t.push(l)-1)}return e[s%e.length]}return r.domain=function(l){if(!arguments.length)return t.slice();t=[],n=new cn;for(const s of l)n.has(s)||n.set(s,t.push(s)-1);return r},r.range=function(l){return arguments.length?(e=Array.from(l),r):e.slice()},r.unknown=function(l){return arguments.length?(i=l,r):i},r.copy=function(){return ki(t,e).unknown(i)},qn.apply(r,arguments),r}function vi(n){return function(){return n}}function Ni(n){return+n}var Ln=[0,1];function tt(n){return n}function Xt(n,t){return(t-=n=+n)?function(e){return(e-n)/t}:vi(isNaN(t)?NaN:.5)}function Ai(n,t){var e;return n>t&&(e=n,n=t,t=e),function(i){return Math.max(n,Math.min(t,i))}}function $i(n,t,e){var i=n[0],r=n[1],l=t[0],s=t[1];return r<i?(i=Xt(r,i),l=e(s,l)):(i=Xt(i,r),l=e(l,s)),function(o){return l(i(o))}}function Si(n,t,e){var i=Math.min(n.length,t.length)-1,r=new Array(i),l=new Array(i),s=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++s<i;)r[s]=Xt(n[s],n[s+1]),l[s]=e(t[s],t[s+1]);return function(o){var a=xe(n,o,1,i)-1;return l[a](r[a](o))}}function Ti(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function ji(){var n=Ln,t=Ln,e=Gt,i,r,l,s=tt,o,a,c;function h(){var f=Math.min(n.length,t.length);return s!==tt&&(s=Ai(n[0],n[f-1])),o=f>2?Si:$i,a=c=null,u}function u(f){return f==null||isNaN(f=+f)?l:(a||(a=o(n.map(i),t,e)))(i(s(f)))}return u.invert=function(f){return s(r((c||(c=o(t,n.map(i),kt)))(f)))},u.domain=function(f){return arguments.length?(n=Array.from(f,Ni),h()):n.slice()},u.range=function(f){return arguments.length?(t=Array.from(f),h()):t.slice()},u.rangeRound=function(f){return t=Array.from(f),e=Mi,h()},u.clamp=function(f){return arguments.length?(s=f?!0:tt,h()):s!==tt},u.interpolate=function(f){return arguments.length?(e=f,h()):e},u.unknown=function(f){return arguments.length?(l=f,u):l},function(f,d){return i=f,r=d,h()}}function Ei(){return ji()(tt,tt)}function Ii(n,t,e,i){var r=Me(n,t,e),l;switch(i=wt(i==null?",f":i),i.type){case"s":{var s=Math.max(Math.abs(n),Math.abs(t));return i.precision==null&&!isNaN(l=ci(r,s))&&(i.precision=l),Pn(i,s)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(l=ui(r,Math.max(Math.abs(n),Math.abs(t))))&&(i.precision=l-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(l=ai(r))&&(i.precision=l-(i.type==="%")*2);break}}return Cn(i)}function Ci(n){var t=n.domain;return n.ticks=function(e){var i=t();return we(i[0],i[i.length-1],e==null?10:e)},n.tickFormat=function(e,i){var r=t();return Ii(r[0],r[r.length-1],e==null?10:e,i)},n.nice=function(e){e==null&&(e=10);var i=t(),r=0,l=i.length-1,s=i[r],o=i[l],a,c,h=10;for(o<s&&(c=s,s=o,o=c,c=r,r=l,l=c);h-- >0;){if(c=fn(s,o,e),c===a)return i[r]=s,i[l]=o,t(i);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;a=c}return n},n}function Pi(){var n=Ei();return n.copy=function(){return Ti(n,Pi())},qn.apply(n,arguments),Ci(n)}export{gr as $,tr as A,Dn as B,he as C,Wn as D,B as E,qi as F,Li as G,Fi as H,Hi as I,Ji as J,Oi as K,Zi as L,ki as M,Pi as N,Qn as O,Ki as P,Wi as Q,$t as R,fr as S,Qi as T,Ri as U,hr as V,dr as W,tn as X,K as Y,ir as Z,An as _,Zn as a,rn as a0,rr as a1,sr as a2,zi as a3,Gi as b,Xi as c,Zt as d,Jt as e,Di as f,te as g,Vi as h,ur as i,ar as j,Bi as k,Ui as l,cr as m,Yi as n,ae as o,lr as p,or as q,se as r,Bn as s,Nt as t,oe as u,ce as v,le as w,ln as x,er as y,nr as z};
