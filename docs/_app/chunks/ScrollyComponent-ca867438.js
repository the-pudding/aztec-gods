import{S as fe,i as ue,s as de,e as O,t as Y,k as z,c as D,a as L,g as H,d as _,n as T,b as k,Q as P,f as A,D as E,h as Z,K as he,a3 as oe,l as me,L as ve,E as C,a1 as _e,a2 as Ae,j as K,m as Q,o as U,x as q,u as G,v as J,A as Ve,r as ze,w as Te,O as be,P as $e}from"./vendor-7d44fa88.js";import{l as Ce,S as qe,d as xe,a as Ge,L as Be,G as Ne,O as je}from"./index-61eefc83.js";import"./preload-helper-7bf1142d.js";function Re(r,e=document){return typeof r=="string"?Array.from(e.querySelectorAll(r)):r instanceof Element?[r]:r instanceof NodeList?Array.from(r):r instanceof Array?r:[]}function Ye(r){const e=document.createElement("div");e.className=`scrollama__debug-step ${r}`,e.style.position="fixed",e.style.left="0",e.style.width="100%",e.style.zIndex="9999",e.style.borderTop="2px solid black",e.style.borderBottom="2px solid black";const t=document.createElement("p");return t.style.position="absolute",t.style.left="0",t.style.height="1px",t.style.width="100%",t.style.borderTop="1px dashed black",e.appendChild(t),document.body.appendChild(e),e}function He({id:r,step:e,marginTop:t}){const{index:s,height:n}=e,o=`scrollama__debug-step--${r}-${s}`;let p=document.querySelector(`.${o}`);p||(p=Ye(o)),p.style.top=`${t*-1}px`,p.style.height=`${n}px`,p.querySelector("p").style.top=`${n/2}px`}function Ke(){const r="abcdefghijklmnopqrstuvwxyz",e=Date.now(),t=[];for(let s=0;s<6;s+=1){const n=r[Math.floor(Math.random()*r.length)];t.push(n)}return`${t.join("")}${e}`}function le(r){console.error(`scrollama error: ${r}`)}function te(r){return+r.getAttribute("data-scrollama-index")}function Qe(r,e){const t=Math.ceil(r/e),s=[],n=1/t;for(let o=0;o<t+1;o+=1)s.push(o*n);return s}function pe(r){if(typeof r=="string"&&r.indexOf("px")>0){const e=+r.replace("px","");return isNaN(e)?(err("offset value must be in 'px' format. Fallback to 0.5."),{format:"percent",value:.5}):{format:"pixels",value:e}}else if(typeof r=="number"||!isNaN(+r))return r>1&&err("offset value is greater than 1. Fallback to 1."),r<0&&err("offset value is lower than 0. Fallback to 0."),{format:"percent",value:Math.min(Math.max(0,r),1)};return null}function Ue(r){r.forEach(e=>e.node.setAttribute("data-scrollama-index",e.index))}function Je(r){const{top:e}=r.getBoundingClientRect(),t=window.pageYOffset,s=document.body.clientTop||0;return e+t-s}let re=0,ge=0,B;function ye(){re!==window.pageYOffset&&(re=window.pageYOffset,re>ge?B="down":re<ge&&(B="up"),ge=re)}function We(){document.addEventListener("scroll",ye)}function Xe(){let r={},e=Ke(),t=[],s,n=0,o=!1,p=!1,y=!1,c=!1,d=[];function m(){r={stepEnter:()=>{},stepExit:()=>{},stepProgress:()=>{}},d=[]}function a(i){i&&!o&&ie(),!i&&o&&$(),o=i}function S(i,w){const b=te(i),F=t[b];w!==void 0&&(F.progress=w);const M={element:i,index:b,progress:w,direction:B};F.state==="enter"&&r.stepProgress(M)}function f(i,w=!0){const b=te(i),F=t[b],M={element:i,index:b,direction:B};F.direction=B,F.state="enter",d[b]||r.stepEnter(M),c&&(d[b]=!0)}function u(i,w=!0){const b=te(i),F=t[b];if(!F.state)return!1;const M={element:i,index:b,direction:B};p&&(B==="down"&&F.progress<1?S(i,1):B==="up"&&F.progress>0&&S(i,0)),F.direction=B,F.state="exit",r.stepExit(M)}function g([i]){const w=te(i.target),b=t[w],F=i.target.offsetHeight;F!==b.height&&(b.height=F,v(b),W(b),N(b))}function h([i]){ye();const{isIntersecting:w,target:b}=i;w?f(b):u(b)}function l([i]){const w=te(i.target),b=t[w],{isIntersecting:F,intersectionRatio:M,target:j}=i;F&&b.state==="enter"&&S(j,M)}function v({observers:i}){Object.keys(i).map(w=>{i[w].disconnect()})}function $(){t.forEach(v)}function N(i){const w=new ResizeObserver(g);w.observe(i.node),i.observers.resize=w}function se(){t.forEach(N)}function W(i){const w=window.innerHeight,b=i.offset||s,F=b.format==="pixels"?1:w,M=b.value*F,j=i.height/2-M,X=i.height/2-(w-M),ce={rootMargin:`${j}px 0px ${X}px 0px`,threshold:.5},ee=new IntersectionObserver(h,ce);ee.observe(i.node),i.observers.step=ee,y&&He({id:e,step:i,marginTop:j,marginBottom:X})}function Le(){t.forEach(W)}function Me(i){const w=window.innerHeight,b=i.offset||s,F=b.format==="pixels"?1:w,M=b.value*F,j=-M+i.height,X=M-w,R=`${j}px 0px ${X}px 0px`,ne=Qe(i.height,n),ce={rootMargin:R,threshold:ne},ee=new IntersectionObserver(l,ce);ee.observe(i.node),i.observers.progress=ee}function Pe(){t.forEach(Me)}function ie(){$(),se(),Le(),p&&Pe()}const I={};return I.setup=({step:i,parent:w,offset:b=.5,threshold:F=4,progress:M=!1,once:j=!1,debug:X=!1})=>(t=Re(i,w).map((R,ne)=>({index:ne,direction:void 0,height:R.offsetHeight,node:R,observers:{},offset:pe(R.dataset.offset),top:Je(R),progress:0,state:void 0})),t.length?(p=M,c=j,y=X,n=Math.max(1,+F),s=pe(b),m(),Ue(t),a(!0),I):(le("no step elements"),I)),I.enable=()=>(a(!0),I),I.disable=()=>(a(!1),I),I.destroy=()=>(a(!1),m(),I),I.resize=()=>(ie(),I),I.offset=i=>i==null?s.value:(s=pe(i),ie(),I),I.onStepEnter=i=>(typeof i=="function"?r.stepEnter=i:le("onStepEnter requires a function"),I),I.onStepExit=i=>(typeof i=="function"?r.stepExit=i:le("onStepExit requires a function"),I),I.onStepProgress=i=>(typeof i=="function"?r.stepProgress=i:le("onStepProgress requires a function"),I),I}We();const Ze={primordial:"#008AA1",creation:"#D28360",elemental:"#5C8A73",human:"#B08699",secondary:"#FE0000",primordialLight:"#EAF8FB",creationLight:"#FFF0E9",elementalLight:"#F3F7F5",humanLight:"#F9F6F8",secondaryLight:"#FFEDED"},et={background:"#FFEEA8","background-lowlight":"#FFFDF3",highlight:"#FE0000","highlight-lighter":"#FBF2F2",black:"#000000","off-black":"#282828","gray-dark":"#5b5b5b","gray-medium":"#949494","gray-light":"#c9c9c9","off-white":"#f0f0f0",white:"#ffffff",purple:"#a239ca",blue:"#4717f6",green:"#34a29e",red:"#ff533d",yellow:"#e5e338"};var V={category:Ze,color:et};const x=r=>{switch(r){case"primordial":return V.category.primordial;case"creation":return V.category.creation;case"elemental":return V.category.elemental;case"human":return V.category.human;case"secondary":return V.category.secondary;default:return V.category.secondary}},ae=r=>{switch(r){case"primordial":return V.category.primordialLight;case"creation":return V.category.creationLight;case"elemental":return V.category.elementalLight;case"human":return V.category.humanLight;case"secondary":return V.category.secondaryLight;default:return V.category.secondaryLight}},ke=r=>{switch(r){case"primordial":return"primordial god";case"creation":return"creation god";case"elemental":return"elemental god";case"human":return"human god";case"secondary":return"secondary god";default:return"secondary god"}};function Ee(r,e,t){const s=r.slice();return s[2]=e[t],s}function Se(r,e,t){const s=r.slice();return s[5]=e[t],s}function we(r){let e,t=r[5]+"",s;return{c(){e=O("p"),s=Y(t),this.h()},l(n){e=D(n,"P",{class:!0});var o=L(e);s=H(o,t),o.forEach(_),this.h()},h(){k(e,"class","svelte-sukhvg")},m(n,o){A(n,e,o),E(e,s)},p(n,o){o&1&&t!==(t=n[5]+"")&&Z(s,t)},d(n){n&&_(e)}}}function Fe(r){let e,t,s=r[2].subtitle+"",n,o,p,y=r[2].subcontent,c=[];for(let d=0;d<y.length;d+=1)c[d]=we(Se(r,y,d));return{c(){e=O("div"),t=O("p"),n=Y(s),o=z();for(let d=0;d<c.length;d+=1)c[d].c();p=z(),this.h()},l(d){e=D(d,"DIV",{class:!0,style:!0});var m=L(e);t=D(m,"P",{class:!0,style:!0});var a=L(t);n=H(a,s),a.forEach(_),o=T(m);for(let S=0;S<c.length;S+=1)c[S].l(m);p=T(m),m.forEach(_),this.h()},h(){k(t,"class","step-subtitle svelte-sukhvg"),P(t,"color",x(r[0].type)),k(e,"class","step-item svelte-sukhvg"),P(e,"border-color",x(r[0].type)),P(e,"background-color",ae(r[0].type))},m(d,m){A(d,e,m),E(e,t),E(t,n),E(e,o);for(let a=0;a<c.length;a+=1)c[a].m(e,null);E(e,p)},p(d,m){if(m&1&&s!==(s=d[2].subtitle+"")&&Z(n,s),m&1&&P(t,"color",x(d[0].type)),m&1){y=d[2].subcontent;let a;for(a=0;a<y.length;a+=1){const S=Se(d,y,a);c[a]?c[a].p(S,m):(c[a]=we(S),c[a].c(),c[a].m(e,p))}for(;a<c.length;a+=1)c[a].d(1);c.length=y.length}m&1&&P(e,"border-color",x(d[0].type)),m&1&&P(e,"background-color",ae(d[0].type))},d(d){d&&_(e),he(c,d)}}}function Ie(r){let e,t;return{c(){e=O("img"),this.h()},l(s){e=D(s,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){oe(e.src,t="/aztec-gods/illustrations/Simplified-"+r[0].illustration+".png")||k(e,"src",t),k(e,"alt",""),k(e,"class","svelte-sukhvg")},m(s,n){A(s,e,n)},p(s,n){n&1&&!oe(e.src,t="/aztec-gods/illustrations/Simplified-"+s[0].illustration+".png")&&k(e,"src",t)},d(s){s&&_(e)}}}function tt(r){let e,t,s,n=r[0].id+"",o,p,y,c=r[0].minibio+"",d,m,a,S,f,u=r[0].content,g=[];for(let l=0;l<u.length;l+=1)g[l]=Fe(Ee(r,u,l));let h=r[0].illustration&&Ie(r);return{c(){e=O("div"),t=O("div"),s=O("div"),o=Y(n),p=z(),y=O("div"),d=Y(c),m=z();for(let l=0;l<g.length;l+=1)g[l].c();S=z(),h&&h.c(),f=me(),this.h()},l(l){e=D(l,"DIV",{class:!0,"data-step":!0});var v=L(e);t=D(v,"DIV",{class:!0,style:!0});var $=L(t);s=D($,"DIV",{class:!0,style:!0});var N=L(s);o=H(N,n),N.forEach(_),p=T($),y=D($,"DIV",{class:!0});var se=L(y);d=H(se,c),se.forEach(_),$.forEach(_),m=T(v);for(let W=0;W<g.length;W+=1)g[W].l(v);v.forEach(_),S=T(l),h&&h.l(l),f=me(),this.h()},h(){k(s,"class","step-title svelte-sukhvg"),P(s,"background-color",x(r[0].type)),k(y,"class","step-bio svelte-sukhvg"),k(t,"class","step-intro svelte-sukhvg"),P(t,"border-color",x(r[0].type)),P(t,"background-color",ae(r[0].type)),k(e,"class","step svelte-sukhvg"),k(e,"data-step",a=r[0].id),ve(e,"selected",r[1])},m(l,v){A(l,e,v),E(e,t),E(t,s),E(s,o),E(t,p),E(t,y),E(y,d),E(e,m);for(let $=0;$<g.length;$+=1)g[$].m(e,null);A(l,S,v),h&&h.m(l,v),A(l,f,v)},p(l,[v]){if(v&1&&n!==(n=l[0].id+"")&&Z(o,n),v&1&&P(s,"background-color",x(l[0].type)),v&1&&c!==(c=l[0].minibio+"")&&Z(d,c),v&1&&P(t,"border-color",x(l[0].type)),v&1&&P(t,"background-color",ae(l[0].type)),v&1){u=l[0].content;let $;for($=0;$<u.length;$+=1){const N=Ee(l,u,$);g[$]?g[$].p(N,v):(g[$]=Fe(N),g[$].c(),g[$].m(e,null))}for(;$<g.length;$+=1)g[$].d(1);g.length=u.length}v&1&&a!==(a=l[0].id)&&k(e,"data-step",a),v&2&&ve(e,"selected",l[1]),l[0].illustration?h?h.p(l,v):(h=Ie(l),h.c(),h.m(f.parentNode,f)):h&&(h.d(1),h=null)},i:C,o:C,d(l){l&&_(e),he(g,l),l&&_(S),h&&h.d(l),l&&_(f)}}}function rt(r,e,t){let{step:s=""}=e,{selected:n=!1}=e;return r.$$set=o=>{"step"in o&&t(0,s=o.step),"selected"in o&&t(1,n=o.selected)},[s,n]}class st extends fe{constructor(e){super();ue(this,e,rt,tt,de,{step:0,selected:1})}}function nt(r){return{c:C,l:C,m:C,p:C,d:C}}function ot(r){let e,t,s;return{c(){e=O("img"),this.h()},l(n){e=D(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){oe(e.src,t=r[3].src)||k(e,"src",t),k(e,"alt",s="image of "+r[0].title),k(e,"class","svelte-6ncdo6")},m(n,o){A(n,e,o)},p(n,o){o&2&&!oe(e.src,t=n[3].src)&&k(e,"src",t),o&1&&s!==(s="image of "+n[0].title)&&k(e,"alt",s)},d(n){n&&_(e)}}}function lt(r){let e;return{c(){e=Y("Loading...")},l(t){e=H(t,"Loading...")},m(t,s){A(t,e,s)},p:C,d(t){t&&_(e)}}}function at(r){let e,t,s,n,o=ke(r[0].type)+"",p,y,c,d=r[0].title+"",m,a,S,f,u={ctx:r,current:null,token:null,hasCatch:!1,pending:lt,then:ot,catch:nt,value:3};return _e(f=r[1],u),{c(){e=O("div"),t=O("div"),s=z(),n=O("div"),p=Y(o),y=z(),c=O("div"),m=Y(d),a=z(),S=O("div"),u.block.c(),this.h()},l(g){e=D(g,"DIV",{class:!0});var h=L(e);t=D(h,"DIV",{}),L(t).forEach(_),s=T(h),n=D(h,"DIV",{class:!0,style:!0});var l=L(n);p=H(l,o),l.forEach(_),y=T(h),c=D(h,"DIV",{class:!0});var v=L(c);m=H(v,d),v.forEach(_),a=T(h),S=D(h,"DIV",{});var $=L(S);u.block.l($),$.forEach(_),h.forEach(_),this.h()},h(){k(n,"class","type svelte-6ncdo6"),P(n,"color",x(r[0].type)),k(c,"class","name svelte-6ncdo6"),k(e,"class","meta-area svelte-6ncdo6")},m(g,h){A(g,e,h),E(e,t),E(e,s),E(e,n),E(n,p),E(e,y),E(e,c),E(c,m),E(e,a),E(e,S),u.block.m(S,u.anchor=null),u.mount=()=>S,u.anchor=null},p(g,[h]){r=g,h&1&&o!==(o=ke(r[0].type)+"")&&Z(p,o),h&1&&P(n,"color",x(r[0].type)),h&1&&d!==(d=r[0].title+"")&&Z(m,d),u.ctx=r,h&2&&f!==(f=r[1])&&_e(f,u)||Ae(u,r,h)},i:C,o:C,d(g){g&&_(e),u.block.d(),u.token=null,u=null}}}function it(r,e,t){let s,{activeStep:n={}}=e;return r.$$set=o=>{"activeStep"in o&&t(0,n=o.activeStep)},r.$$.update=()=>{r.$$.dirty&1&&t(1,s=Ce(`/aztec-gods/assets/gods/${n.id}.png`))},[n,s]}class ct extends fe{constructor(e){super();ue(this,e,it,at,de,{activeStep:0})}}function Oe(r,e,t){const s=r.slice();return s[5]=e[t],s[7]=t,s}function ft(r){let e,t,s;return t=new Be({}),{c(){e=be("g"),K(t.$$.fragment),this.h()},l(n){e=$e(n,"g",{slot:!0});var o=L(e);Q(t.$$.fragment,o),o.forEach(_),this.h()},h(){k(e,"slot","chart-svg")},m(n,o){A(n,e,o),U(t,e,null),s=!0},i(n){s||(q(t.$$.fragment,n),s=!0)},o(n){G(t.$$.fragment,n),s=!1},d(n){n&&_(e),J(t)}}}function ut(r){let e,t;return e=new Ne({props:{slot:"chart-html"}}),{c(){K(e.$$.fragment)},l(s){Q(e.$$.fragment,s)},m(s,n){U(e,s,n),t=!0},p:C,i(s){t||(q(e.$$.fragment,s),t=!0)},o(s){G(e.$$.fragment,s),t=!1},d(s){J(e,s)}}}function dt(r){let e,t,s;return t=new je({}),{c(){e=be("g"),K(t.$$.fragment),this.h()},l(n){e=$e(n,"g",{slot:!0});var o=L(e);Q(t.$$.fragment,o),o.forEach(_),this.h()},h(){k(e,"slot","chart-svg-overlay")},m(n,o){A(n,e,o),U(t,e,null),s=!0},i(n){s||(q(t.$$.fragment,n),s=!0)},o(n){G(t.$$.fragment,n),s=!1},d(n){n&&_(e),J(t)}}}function De(r){let e,t,s;return e=new st({props:{step:r[5],selected:r[0]===r[7]}}),{c(){K(e.$$.fragment),t=z()},l(n){Q(e.$$.fragment,n),t=T(n)},m(n,o){U(e,n,o),A(n,t,o),s=!0},p(n,o){const p={};o&4&&(p.step=n[5]),o&1&&(p.selected=n[0]===n[7]),e.$set(p)},i(n){s||(q(e.$$.fragment,n),s=!0)},o(n){G(e.$$.fragment,n),s=!1},d(n){J(e,n),n&&_(t)}}}function ht(r){let e,t,s,n,o,p,y,c,d;n=new Ge({props:{$$slots:{"chart-svg-overlay":[dt],"chart-html":[ut],"chart-svg":[ft]},$$scope:{ctx:r}}}),p=new ct({props:{activeStep:r[1]}});let m=r[2],a=[];for(let f=0;f<m.length;f+=1)a[f]=De(Oe(r,m,f));const S=f=>G(a[f],1,1,()=>{a[f]=null});return{c(){e=O("div"),t=O("figure"),s=O("div"),K(n.$$.fragment),o=z(),K(p.$$.fragment),y=z(),c=O("div");for(let f=0;f<a.length;f+=1)a[f].c();this.h()},l(f){e=D(f,"DIV",{id:!0});var u=L(e);t=D(u,"FIGURE",{class:!0});var g=L(t);s=D(g,"DIV",{});var h=L(s);Q(n.$$.fragment,h),h.forEach(_),o=T(g),Q(p.$$.fragment,g),g.forEach(_),y=T(u),c=D(u,"DIV",{class:!0});var l=L(c);for(let v=0;v<a.length;v+=1)a[v].l(l);l.forEach(_),u.forEach(_),this.h()},h(){k(t,"class","svelte-epb543"),k(c,"class","scroll-area svelte-epb543"),k(e,"id","scrolly")},m(f,u){A(f,e,u),E(e,t),E(t,s),U(n,s,null),E(t,o),U(p,t,null),E(e,y),E(e,c);for(let g=0;g<a.length;g+=1)a[g].m(c,null);d=!0},p(f,u){const g={};u&256&&(g.$$scope={dirty:u,ctx:f}),n.$set(g);const h={};if(u&2&&(h.activeStep=f[1]),p.$set(h),u&5){m=f[2];let l;for(l=0;l<m.length;l+=1){const v=Oe(f,m,l);a[l]?(a[l].p(v,u),q(a[l],1)):(a[l]=De(v),a[l].c(),q(a[l],1),a[l].m(c,null))}for(ze(),l=m.length;l<a.length;l+=1)S(l);Te()}},i(f){if(!d){q(n.$$.fragment,f),q(p.$$.fragment,f);for(let u=0;u<m.length;u+=1)q(a[u]);d=!0}},o(f){G(n.$$.fragment,f),G(p.$$.fragment,f),a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)G(a[u]);d=!1},d(f){f&&_(e),J(n),J(p),he(a,f)}}}function pt(r){let e,t;return e=new qe({props:{id:"story-mode",centered:!0,$$slots:{default:[ht]},$$scope:{ctx:r}}}),{c(){K(e.$$.fragment)},l(s){Q(e.$$.fragment,s)},m(s,n){U(e,s,n),t=!0},p(s,[n]){const o={};n&263&&(o.$$scope={dirty:n,ctx:s}),e.$set(o)},i(s){t||(q(e.$$.fragment,s),t=!0)},o(s){G(e.$$.fragment,s),t=!1},d(s){J(e,s)}}}function gt(r,e,t){let s;const n=!1;let o=0,p="";const y=c=>{t(0,o=c.index),t(1,p=s[c.index])};return Ve(()=>{Xe().setup({step:"div .step",offset:.5}).onStepEnter(y)}),t(2,s=xe.pantheon),[o,p,s,n]}class bt extends fe{constructor(e){super();ue(this,e,gt,pt,de,{ssr:3})}get ssr(){return this.$$.ctx[3]}}export{bt as default};
